<mat-toolbar class="ngx-mtp-header mat-elevation-z6" color="primary">
  <div>
    <mat-icon class="logo" svgIcon="logo" />
    <span class="ngx-mtp-header-title" title="toggle locale">
      {{ npmPackage }}
    </span>
  </div>
  <div>
    <button mat-icon-button [matMenuTriggerFor]="themeMenu">
      <mat-icon>format_color_fill</mat-icon>
    </button>

    <mat-menu #themeMenu>
      @for (theme of themes; track theme) {
        <button mat-menu-item (click)="updateTheme(theme)">
          @if (selectedTheme.value === theme.value) {
            <mat-icon color="accent">radio_button_checked </mat-icon>
          } @else {
            <mat-icon>radio_button_unchecked</mat-icon>
          }
          {{ theme.description }}
          <mat-icon
            class="ngx-mtp-theme-example mat-elevation-z1"
            svgIcon="theme"
            [style.color]="theme.hexColor"
          />
        </button>
      }
    </mat-menu>

    <a mat-button class="ngx-mtp-github-link-desktop" [href]="githubLink">
      <mat-icon svgIcon="github-circle" />
      <span class="ngx-mtp-github-logo-text">Github</span>
    </a>
  </div>
</mat-toolbar>
<div class="ngx-mtp-top">
  <h1 class="mat-h1 ngx-mtp-main-title">Angular Material Timepicker</h1>
  <p>an Angular material 17+ extension to add time pickers!</p>
  <div class="ngx-mtp-badges">
    <a [href]="npmLink" target="_blank">
      <img
        src="https://img.shields.io/npm/v/@alexfriesen/ngx-mat-timepicker.svg?style=flat-square"
        alt="npm version"
      />
    </a>
    <img
      src="https://img.shields.io/npm/dm/@alexfriesen/ngx-mat-timepicker.svg?style=flat-square"
      alt="downloads per month"
    />
    <img
      src="https://img.shields.io/bundlephobia/min/@alexfriesen/ngx-mat-timepicker"
      alt="minified size"
    />
  </div>
  <div
    class="ngx-mtp-padding ngx-mtp-d-flex ngx-mtp-align-center ngx-mtp-justify-center"
  >
    <a mat-raised-button [href]="githubLink">
      <mat-icon svgIcon="github-round" />
      Star on Github
    </a>
  </div>
</div>
<div class="ngx-mtp-generic-section">
  <h2 class="mat-h2">Install NgxMatTimepicker</h2>
  <div class="terminal">
    <ul>
      <li>npm i {{ npmPackage }}</li>
    </ul>
  </div>
</div>
<div class="ngx-mtp-container">
  <div class="ngx-mtp-locales">
    <p>Dynamic locale (v >= 12.2.0)</p>
    <p>
      @for (locale of myLocaleKeys; track locale; let last = $last) {
        <span
          class="locale"
          [class.active]="locale === currentLocaleKey"
          (click)="updateLocale(locale)"
          >{{ locale }}</span
        >
        @if (!last) {
          <span class="separator"> | </span>
        }
      }
    </p>
    <button mat-raised-button color="primary" (click)="updateLocale()">
      Next locale
    </button>
  </div>
  <form class="demo-form">
    <div>
      <h2>Picker with 12h format</h2>
      <p>
        using <span class="mat-color-primary">default</span> palette (primary)
      </p>
      <app-code-viewer>
        <div
          class="example ngx-mtp-d-flex ngx-mtp-align-center ngx-mtp-flex-column"
        >
          <mat-form-field>
            <input
              matInput
              name="selected_time_A"
              [(ngModel)]="selectedTimes.A"
              [ngxMatTimepicker]="pickerA"
              placeholder="4:00 PM"
              readonly
            />
            <mat-icon matSuffix (click)="pickerA.open()">watch_later </mat-icon>
          </mat-form-field>
          <button
            mat-raised-button
            color="primary"
            (click)="selectedTimes.A = undefined"
          >
            clear
          </button>
          <ngx-mat-timepicker
            #pickerA
            enableKeyboardInput
            (timeSet)="onTimeSet($event)"
          />
        </div>
        <pre class="language-markup">
                    <code>
&lt;mat-form-field&gt;
    &lt;input matInput
           name="selected_time_A"
           [(ngModel)]="selectedTimes.A"
           [ngxMatTimepicker]="pickerA"
           placeholder="4:00 PM"
           readonly /&gt;
    &lt;mat-icon matSuffix
              (click)="pickerA.open()"&gt;
        watch_later
    &lt;/mat-icon&gt;
&lt;/mat-form-field&gt;
&lt;ngx-mat-timepicker #pickerA>&lt;/ngx-mat-timepicker&gt;
                    </code>
                </pre>
      </app-code-viewer>
    </div>
    <div>
      <h2>Picker with 24h format</h2>
      <p>using <span class="mat-color-accent">accent</span> palette</p>
      <app-code-viewer>
        <div
          class="example ngx-mtp-d-flex ngx-mtp-align-center ngx-mtp-flex-column"
        >
          <mat-form-field>
            <input
              matInput
              name="selected_time_B"
              [format]="24"
              [(ngModel)]="selectedTimes.B"
              [ngxMatTimepicker]="pickerB"
              placeholder="16:00"
              readonly
            />
            <mat-icon matSuffix (click)="pickerB.open()">
              watch_later
            </mat-icon>
          </mat-form-field>
          <ngx-mat-timepicker color="accent" #pickerB />
        </div>
        <pre class="language-markup">
                <code>
&lt;mat-form-field&gt;
    &lt;input matInput
           name="selected_time_B"
           format="24"
           [(ngModel)]="selectedTimes.B"
           [ngxMatTimepicker]="pickerB"
           placeholder="16:00"
           readonly /&gt;
    &lt;mat-icon matSuffix
              (click)="pickerB.open()"&gt;
        watch_later
    &lt;/mat-icon&gt;
&lt;/mat-form-field&gt;
&lt;ngx-mat-timepicker color="accent"
                    #pickerB>&lt;/ngx-mat-timepicker&gt;
                </code>
            </pre>
      </app-code-viewer>
    </div>
    <div>
      <h2>ngx-mat-timepicker-field</h2>
      <p>using <span class="mat-color-warn">warn</span> palette</p>
      <app-code-viewer>
        <div
          class="example ngx-mtp-d-flex ngx-mtp-align-center ngx-mtp-flex-column"
        >
          <p><strong>format = 12</strong></p>
          <ngx-mat-timepicker-field
            color="warn"
            [format]="12"
            [max]="maxTime"
            [min]="minTime"
            [defaultTime]="'11:11 PM'"
          />
          <p><strong>format = 24</strong></p>
          <ngx-mat-timepicker-field
            color="warn"
            [format]="24"
            [defaultTime]="'23:11'"
          />
        </div>
        <pre class="language-markup">
                    <code>
&lt;ngx-mat-timepicker-field color="warn"
                          [format]="12"
                          [defaultTime]="'11:11 PM'"&gt;&lt;/ngx-mat-timepicker-field&gt;
 &lt;ngx-mat-timepicker-field color="warn"
                           [format]="24"
                           [defaultTime]="'23:11'"&gt;&lt;/ngx-mat-timepicker-field&gt;
                    </code>
                </pre>
      </app-code-viewer>
    </div>
    <div>
      <h2>Input with *ngIf</h2>
      <p>
        using <strong>*ngIf</strong> to show/hide only the input, but not the
        ngx-mat-timepicker
      </p>
      <p>
        <small
          >Before v 9.0.3, inputs weren't detached when destroyed, so you needed
          to destroy the ngx-mat-timepicker as well. Not anymore.</small
        >
      </p>
      <app-code-viewer>
        <div
          class="example ngx-mtp-d-flex ngx-mtp-align-center ngx-mtp-flex-column"
        >
          @if (showInput) {
            <mat-form-field>
              <input
                matInput
                name="selected_time"
                [format]="24"
                [(ngModel)]="selectedTimes.C"
                [ngxMatTimepicker]="pickerC"
                placeholder="12:00"
                readonly
              />
              <mat-icon matSuffix (click)="pickerC.open()"
                >watch_later
              </mat-icon>
            </mat-form-field>
          }
          <button
            mat-raised-button
            class="ngx-mtp-margin-top ngx-mtp-margin-bottom ngx-mtp-d-inline-block"
            (click)="showInput = !showInput"
            color="primary"
          >
            {{ showInput ? 'Destroy' : 'Restore' }} input
          </button>
          <div class="ngx-mtp-box-bordered">
            <small>ngx-mat-timepicker is here</small>
            <ngx-mat-timepicker color="accent" #pickerC />
          </div>
        </div>
        <pre class="language-markup">
                    <code>
&lt;mat-form-field *ngIf="showInput"&gt;
    &lt;input matInput
    name="selected_time"
    [format]="24"
    [(ngModel)]="selectedTimes.C"
    [ngxMatTimepicker]="pickerC"
    placeholder="12:00"
    readonly /&gt;
    &lt;mat-icon matSuffix
              (click)="pickerC.open()"&gt;
        watch_later
    &lt;/mat-icon&gt;
&lt;/mat-form-field&gt;
&lt;button mat-raised-button
        (click)="showInput = !showInput"
        color="primary"&gt;
                        {{showInput ? "Destroy" : "Restore"}} input
&lt;/button&gt;
&lt;div class="ngx-mtp-box-bordered"&gt;
    &lt;small&gt;ngx-mat-timepicker is here&lt;/small&gt;
    &lt;ngx-mat-timepicker color="accent"
                        #pickerC&gt;&lt;/ngx-mat-timepicker&gt;
&lt;/div&gt;
                    </code>
                </pre>
      </app-code-viewer>
    </div>
    <div>
      <h2>Append to input</h2>
      <p>using appendToInput</p>
      <app-code-viewer>
        <div
          class="example ngx-mtp-d-flex ngx-mtp-align-center ngx-mtp-flex-column"
        >
          <mat-form-field>
            <input
              matInput
              name="selected_time_d"
              [format]="24"
              [(ngModel)]="selectedTimes.D"
              [ngxMatTimepicker]="pickerD"
              [defaultValue]="selectedTimes.D"
              placeholder="23:59"
              readonly
            />
            <mat-icon matSuffix (click)="pickerD.open()">watch_later </mat-icon>
          </mat-form-field>
          <div class="ngx-mtp-box-bordered">
            <small>ngx-mat-timepicker is here</small>
            <ngx-mat-timepicker color="accent" appendToInput #pickerD />
          </div>
        </div>
        <pre class="language-markup">
                    <code>
&lt;mat-form-field&gt;
    &lt;input matInput
    [format]="24"
    [(ngModel)]="selectedTimes.D"
    [ngxMatTimepicker]="pickerD"
    placeholder="12:00"
    readonly /&gt;
    &lt;mat-icon matSuffix
              (click)="pickerD.open()"&gt;
        watch_later
    &lt;/mat-icon&gt;
&lt;/mat-form-field&gt;
&lt;div class="ngx-mtp-box-bordered"&gt;
    &lt;small&gt;ngx-mat-timepicker is here&lt;/small&gt;
     &lt;ngx-mat-timepicker color="accent"
                         appendToInput="true"
                         #pickerD&gt;&lt;/ngx-mat-timepicker&gt;
&lt;/div&gt;
                    </code>
                </pre>
      </app-code-viewer>
    </div>
    <div>
      <h2>Open programmatically</h2>
      <p>use external button to open the picker</p>
      <app-code-viewer>
        <div
          class="example ngx-mtp-d-flex ngx-mtp-align-center ngx-mtp-flex-column"
        >
          <mat-form-field>
            <input
              matInput
              name="selected_time_e"
              [format]="24"
              [(ngModel)]="selectedTimes.E"
              [ngxMatTimepicker]="pickerE"
              placeholder="12:00"
              readonly
            />
            <mat-icon matSuffix (click)="pickerE.open()">watch_later </mat-icon>
          </mat-form-field>
          <button
            mat-raised-button
            class="ngx-mtp-margin-top ngx-mtp-margin-bottom ngx-mtp-d-inline-block"
            (click)="pickerE.open()"
            color="primary"
          >
            Open picker
          </button>
          <ngx-mat-timepicker color="accent" #pickerE />
        </div>
        <pre class="language-markup">
                    <code>
&lt;mat-form-field&gt;
    &lt;input matInput
    [format]="24"
    [(ngModel)]="selectedTimes.E"
    [ngxMatTimepicker]="pickerE"
    placeholder="12:00"
    readonly /&gt;
    &lt;mat-icon matSuffix
              (click)="pickerE.open()"&gt;
        watch_later
    &lt;/mat-icon&gt;
&lt;/mat-form-field&gt;
&lt;button mat-raised-button
		class="ngx-mtp-margin-top ngx-mtp-margin-bottom ngx-mtp-d-inline-block"
		(click)="pickerE.open()"
		color="primary"&gt;
    Open picker
&lt;/button&gt;
 &lt;ngx-mat-timepicker color="accent"
					 #pickerE&gt;&lt;/ngx-mat-timepicker&gt;
                    </code>
                </pre>
      </app-code-viewer>
    </div>
    <div>
      <h2>ngx-mat-timepicker-toggle</h2>
      <p>
        use component in material stile (instead of using mat-icon + matSuffix)
      </p>
      <app-code-viewer>
        <div
          class="example ngx-mtp-d-flex ngx-mtp-align-center ngx-mtp-flex-column"
        >
          <mat-form-field class="ngx-mtp-margin-bottom">
            <mat-label>Choose a date</mat-label>
            <input matInput [matDatepicker]="datePicker" />
            <mat-datepicker-toggle matSuffix [for]="datePicker" />
            <mat-datepicker #datePicker />
            <mat-hint>MM/DD/YYYY</mat-hint>
          </mat-form-field>
          <mat-form-field>
            <input
              matInput
              name="selected_time_f"
              [format]="24"
              [(ngModel)]="selectedTimes.F"
              [ngxMatTimepicker]="pickerF"
              placeholder="12:00"
              readonly
            />
            <ngx-mat-timepicker-toggle matSuffix />
          </mat-form-field>
          <button
            mat-raised-button
            class="ngx-mtp-margin-top ngx-mtp-margin-bottom ngx-mtp-d-inline-block"
            (click)="pickerF.open()"
            color="primary"
          >
            Open picker
          </button>
          <ngx-mat-timepicker color="accent" #pickerF />
        </div>
        <pre class="language-markup">
                    <code>
&lt;mat-form-field&gt;
    &lt;input matInput
    [format]="24"
    [(ngModel)]="selectedTimes.F"
    [ngxMatTimepicker]="pickerF"
    placeholder="12:00"
    readonly /&gt;
    &lt;ngx-mat-timepicker-toggle&gt;&lt;/ngx-mat-timepicker-toggle&gt;
&lt;/mat-form-field&gt;
&lt;button mat-raised-button
		class="ngx-mtp-margin-top ngx-mtp-margin-bottom ngx-mtp-d-inline-block"
		(click)="pickerF.open()"
		color="primary"&gt;
    Open picker
&lt;/button&gt;
 &lt;ngx-mat-timepicker color="accent"
					 #pickerF&gt;&lt;/ngx-mat-timepicker&gt;
                    </code>
                </pre>
      </app-code-viewer>
    </div>
    <div>
      <h2>Min and Max validation</h2>
      <p>add config to have min and/or max hour</p>
      <app-code-viewer>
        <div
          class="example ngx-mtp-d-flex ngx-mtp-align-center ngx-mtp-flex-column"
        >
          <mat-form-field>
            <input
              matInput
              name="selected_time_g"
              [format]="12"
              [max]="maxTime"
              [min]="minTime"
              [(ngModel)]="selectedTimes.G"
              [ngxMatTimepicker]="pickerG"
              placeholder="12:00"
              readonly
            />
            <ngx-mat-timepicker-toggle [for]="pickerG" matSuffix />
          </mat-form-field>
          <button
            mat-raised-button
            class="ngx-mtp-margin-top ngx-mtp-margin-bottom ngx-mtp-d-inline-block"
            (click)="pickerG.open()"
            color="primary"
          >
            Open picker
          </button>
          <button
            mat-raised-button
            class="ngx-mtp-margin-top ngx-mtp-margin-bottom ngx-mtp-d-inline-block"
            (click)="selectedTimes.G = '12:00'"
            color="primary"
          >
            Invalidate
          </button>
          <ngx-mat-timepicker color="accent" #pickerG />
        </div>
        <pre class="language-markup">
                    <code>
&lt;mat-form-field&gt;
	&lt;input matInput
		   name="selected_time_g"
		   [format]="12"
		   [max]="maxTime"
		   [min]="minTime"
		   [(ngModel)]="selectedTimes.G"
		   [ngxMatTimepicker]="pickerG"
		   placeholder="12:00"
		   readonly /&gt;
	&lt;ngx-mat-timepicker-toggle matSuffix&gt;&lt;/ngx-mat-timepicker-toggle&gt;
&lt;/mat-form-field&gt;
&lt;button mat-raised-button
		class="ngx-mtp-margin-top ngx-mtp-margin-bottom ngx-mtp-d-inline-block"
		(click)="pickerG.open()"
		color="primary"&gt;
	Open picker
&lt;/button&gt;
&lt;button mat-raised-button
		class="ngx-mtp-margin-top ngx-mtp-margin-bottom ngx-mtp-d-inline-block"
		(click)="selectedTimes.G = '12:00'"
		color="primary"&gt;
	Invalidate
&lt;/button&gt;
&lt;ngx-mat-timepicker color="accent"
			  #pickerG&gt;&lt;/ngx-mat-timepicker&gt;
                    </code>
                </pre>
      </app-code-viewer>
    </div>
    <div>
      <h2>Allow input completition</h2>
      <p>Don't link input to picker</p>
      <app-code-viewer>
        <div
          class="example ngx-mtp-d-flex ngx-mtp-align-center ngx-mtp-flex-column"
        >
          <mat-form-field>
            <input
              matInput
              [pattern]="timeRegex"
              name="selected_time_h"
              #inputModel="ngModel"
              [(ngModel)]="selectedTimes.H"
              (blur)="
                inputModel.valid &&
                  selectedTimeFreeInputChanged(selectedTimes.H)
              "
              placeholder="12:00"
            />
            @if (inputModel.hasError('pattern')) {
              <mat-error>Expected format: H:mm AM|PM</mat-error>
            }
          </mat-form-field>
          <button
            mat-raised-button
            class="ngx-mtp-margin-top ngx-mtp-margin-bottom ngx-mtp-d-inline-block"
            (click)="pickerH.open()"
            color="primary"
          >
            Open picker
          </button>
          <ngx-mat-timepicker
            (timeSet)="updateTime($event, 'selectedTimeFreeInput')"
            #pickerH
          />
        </div>
        <pre class="language-markup">
                    <code>
&lt;mat-form-field&gt;
	&lt;input matInput
	   [pattern]="timeRegex"
	   name="selected_time_h"
	   #inputModel="ngModel"
	   [(ngModel)]="selectedTimeFreeInput"
	   (blur)="inputModel.valid && selectedTimeFreeInputChanged(selectedTimeFreeInput)"
	   placeholder="12:00" /&gt;
	&lt;mat-error *ngIf="inputModel.hasError('pattern')"&gt;Expected format: H:mm AM|PM&lt;/mat-error&gt;
&lt;/mat-form-field&gt;
&lt;button mat-raised-button
	class="ngx-mtp-margin-top ngx-mtp-margin-bottom ngx-mtp-d-inline-block"
	(click)="pickerH.open()"
	color="primary"&gt;
	Open picker
&lt;/button&gt;
&lt;ngx-mat-timepicker (timeSet)="updateTime($event, 'selectedTimeFreeInput')"
	      			#pickerH&gt;&lt;/ngx-mat-timepicker&gt;
                    </code>
                </pre>
      </app-code-viewer>
    </div>
  </form>
</div>
<div class="ngx-mtp-generic-section">
  <svg
    fill="none"
    height="50"
    stroke="currentColor"
    stroke-linecap="round"
    stroke-linejoin="round"
    stroke-width="2"
    viewBox="0 0 24 24"
    width="50"
    xmlns="http://www.w3.org/2000/svg"
  >
    <path
      d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"
    ></path>
  </svg>
  <h2 class="mat-h2">Free and open source</h2>
</div>
<div class="ngx-mtp-generic-section">
  <svg
    fill="none"
    height="50"
    stroke="currentColor"
    stroke-linecap="round"
    stroke-linejoin="round"
    stroke-width="2"
    viewBox="0 0 24 24"
    width="50"
    xmlns="http://www.w3.org/2000/svg"
  >
    <polyline points="9 18 15 12 9 6"></polyline>
  </svg>
  <h2 class="mat-h2">Ready to start?</h2>
  <p>Go to the <a class="mat-color-primary" [href]="githubLink">docs</a>!</p>
</div>
<footer>
  <p>
    Â© <span>{{ year }}</span> MIT License
  </p>
</footer>
